<%
# Saltstorm - Fun-Money Betting on the Web
# Copyright (C) 2013, 2014  Dustin Leavins
#
# Full license can be found in 'LICENSE.txt'
%>
<div class='page-header'>
  <h1><%= titleize('Signup') %></h1>
  <p><%= @site_description %></p>
</div>
<div class='alert alert-danger' ng-show='errorMsg'>
  <p>{{ errorMsg }}</p>
</div>
<div class='row'>
  <div class='col-md-6'>
    <form name='signupForm'>
      <div class='form-group' ng-class='{"has-error": signupForm.email.$invalid}'>
        <p>
          <label for='email'>E-Mail Address</label>
          <input type='text' name='email' autocapitalize='off' class='form-control'
                 ng-model='email'
                 ng-init='email = "<%= @email %>"'
                 required />
        </p>
      </div>

      <div class='form-group' ng-class='{"has-error": signupForm.password.$invalid}'>
        <p>
          <label for='password'>Password</label>
          <input type='password' name='password' autocapitalize='off' class='form-control'
                 ng-model='password'
                 required />
        </p>
      </div>

      <div class='form-group' ng-class='{"has-error": signupForm.confirm_password.$invalid}'>
        <p>
          <label for='confirm_password'>Confirm Password</label>
          <input type='password' name='confirm_password' autocapitalize='off' class='form-control'
                 ng-model='confirmPassword'
                 required />
        </p>
      </div>

      <div class='form-group' ng-class='{"has-error": signupForm.display_name.$invalid}'>
        <p>
          <label for='display_name'>Name to display</label>
          <input type='text' name='display_name' autocapitalize='off' class='form-control'
                 ng-maxlength='20'
                 ng-model='displayName'
                 ng-init='displayName = "<%= @display_name %>"'
                 required />
        </p>
      </div>

      <p>
        <button ng-click='register()' class="btn btn-primary" ng-disabled='signupForm.$invalid'>Register</button>
      </p>
    </form>
  </div>
</div>
